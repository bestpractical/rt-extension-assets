<table>
% if ($AssetObj->id) {
  <tr class="asset-catalog">
    <td class="label"><label for="Catalog"><&|/l&>Catalog</&></label></td>
    <td><& /Asset/Elements/SelectCatalog, Default => $current{Catalog} &></td>
  </tr>
% }
  <tr class="asset-name">
    <td class="label"><label for="Name"><&|/l&>Name</&></label></td>
    <td><input name="Name" value="<% $current{Name} %>" size="50"></td>
  </tr>
  <tr class="asset-description">
    <td class="label"><label for="Description"><&|/l&>Description</&></label></td>
    <td><input name="Description" value="<% $current{Description} %>" size="75"></td>
  </tr>
  <tr class="asset-status">
    <td class="label"><label for="Status"><&|/l&>Status</&></label></td>
% my $status;
% $m->callback( CallbackName => 'DefaultStatus', ARGSRef => \%ARGS, AssetObj => $AssetObj, CatalogObj => $CatalogObj, Status => \$status );
    <td><& /Asset/Elements/SelectStatus, Name => 'Status', AssetObj => $AssetObj, $status ? ( Default => $status ) : () &></td>
  </tr>
% if ( $AssetObj->id ) {
  <& /Elements/EditCustomFields, Object => $AssetObj, Grouping => 'Basics', InTable => 1 &>
% } elsif ( my @cf_names = grep { defined } @{RT->Config->Get('AssetBasicCustomFieldsOnCreate') || []} ) {
%   my $cfs = $CatalogObj->AssetCustomFields;
%   for my $name ( @cf_names ) {
%       $cfs->Limit( FIELD => 'Name', VALUE => $name );
%   }
  <& /Elements/EditCustomFields, Object => $AssetObj, CustomFields => $cfs, InTable => 1 &>
% }
% $m->callback(%ARGS, CallbackName => "AfterFields");
</table>
<%args>
$AssetObj
$CatalogObj => undef
</%args>
<%init>
my %current = map { $_ => ($ARGS{$_} || $AssetObj->$_ || '') }
                  $AssetObj->WritableAttributes;
</%init>
