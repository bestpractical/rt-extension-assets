<&| /Widgets/TitleBox, title => $Grouping ? loc($Grouping) : loc('Custom Fields'), hide_empty => 1 &>
% my $CFs = RT::CustomFields->new( $session{CurrentUser} );
% $CFs->LimitToCatalog( $CatalogObj->Id );
% $CFs->LimitToGrouping( "RT::Asset" => $Grouping );
% if ( $CFs->Count > 0 ){
<table>
%   while (my $cf = $CFs->Next) {
%     my $name = "CF.{" . $cf->Name . "}";
%     my $value  = ref($ARGS{$name}) ? $ARGS{$name}[0] : $ARGS{$name} || '';
%     my $negval = ref($ARGS{"!$name"}) ? $ARGS{"!$name"}[0] : $ARGS{"!$name"} || '';
<tr>
  <td class="label"><label for="<% $name %>"><% $cf->Name %></label></td>
  <td class="value"><& /Elements/SelectCustomFieldValue, CustomField => $cf, Name => $name, Default => $value &></td>
  <td class="label"><label for="!<% $name %>"><&|/l&>but not</&></label></td>
  <td class="value"><& /Elements/SelectCustomFieldValue, CustomField => $cf, Name => "!$name", Default => $negval &></td>
</tr>
%   }
</table>
% }
</&>
<%args>
$Grouping
$CatalogObj => undef
</%args>
