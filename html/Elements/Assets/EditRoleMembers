<%args>
$Group       => undef
$Recursively => 0
</%args>
<%init>
my $field_name = "RemoveRoleMember-" . $Group->Type;
</%init>
<ul class="role-members">
% my $Users = $Group->UserMembersObj( Recursively => $Recursively );
% if ($Group->SingleMemberRoleGroup) {
<input type="text" value="<% $Users->First->Name %>" name="SetRoleMember-<% $Group->Type %>" id="SetRoleMember-<% $Group->Type %>" /><br />
<script type="text/javascript">
jQuery(function(){
    jQuery("#SetRoleMember-"+<% $Group->Type |n,j%>).autocomplete({
        source: <% RT->Config->Get('WebPath') |n,j%>+"/Helpers/Autocomplete/Users?return=Name"
    });
});
</script>
% } else {
% while ( my $user = $Users->Next ) {
<li>
  <label>
    <input type="checkbox" name="<% $field_name %>" value="<% $user->PrincipalId %>">
    <& /Elements/ShowUser, User => $user &>
  </label>
</li>
% }
% my $Groups = $Group->GroupMembersObj( Recursively => $Recursively );
% $Groups->LimitToUserDefinedGroups;
% while (my $group = $Groups->Next) {
<li>
  <label>
    <input type="checkbox" name="<% $field_name %>" value="<% $group->PrincipalId %>">
    <&|/l&>Group</&>: <% $group->Name %>
  </label>
</li>
% }
% }
</ul>
